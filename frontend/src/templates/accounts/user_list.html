{% extends 'marketplace_base.html' %}

{% block title %}I3 Marketplace | List Users{% endblock %}

{% block page_content %}

  <div class="container">
    <div class="row">
      <div class="col-sm-9">
        <h1>Dashboard > Users</h1>
      </div>
      {% if request.user.is_staff %}
        <div class="col-sm-3 center-block" style="height: 69px;">
          <a href="{% url 'dashboard:users-create' %}" class="btn btn-default pull-right" style="margin: 17px 0;">
            <span class="glyphicon glyphicon-plus"></span>
            Add User
          </a>
        </div>
      {% endif %}
    </div>
    <div class="col-sm-10 col-sm-offset-1">
      <table class="table table-striped">
        <thead>
        <tr>
          <th>Username</th>
          <th>Email</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>User Type</th>
        </tr>
        </thead>
        <tbody>
        {% for user in object_list %}
          <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.first_name }}</td>
            <td>{{ user.last_name }}</td>
            <td>{{ user.user_type }}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

{% endblock %}

{% block extra_js %}
  {{ block.super }}
  <script type="text/javascript"
          src="https://cdn.datatables.net/v/bs/jqc-1.12.4/dt-1.10.15/datatables.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function () {
      $('table.table').each(function () {
        $(this).DataTable();
      })
    });
  </script>
{% endblock %}